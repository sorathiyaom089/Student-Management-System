{% extends "base.html" %}

{% block title %}Grades Report - Admin Panel{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Grades Report</h1>
    <a href="{{ url_for('admin_reports') }}" class="btn btn-secondary">Back to Reports</a>
</div>

<div class="table-container">
    <table class="data-table">
        <thead>
            <tr>
                <th>Course Code</th>
                <th>Course Name</th>
                <th>Total Students</th>
                <th>Average %</th>
                <th>Highest %</th>
                <th>Lowest %</th>
                <th>Performance</th>
            </tr>
        </thead>
        <tbody>
            {% for record in report %}
            <tr>
                <td>{{ record.course_code }}</td>
                <td>{{ record.course_name }}</td>
                <td>{{ record.total_students }}</td>
                <td>{{ "{:.2f}".format(record.avg_percentage) }}%</td>
                <td style="color: #27ae60; font-weight: bold;">{{ "{:.2f}".format(record.max_percentage) }}%</td>
                <td style="color: #e74c3c; font-weight: bold;">{{ "{:.2f}".format(record.min_percentage) }}%</td>
                <td>
                    <span class="badge badge-{{ 'success' if record.avg_percentage >= 60 else ('warning' if record.avg_percentage >= 40 else 'danger') }}">
                        {{ 'Excellent' if record.avg_percentage >= 75 else ('Good' if record.avg_percentage >= 60 else ('Average' if record.avg_percentage >= 40 else 'Poor')) }}
                    </span>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
